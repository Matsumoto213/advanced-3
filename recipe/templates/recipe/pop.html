<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="css/styles.css">
    <!-- <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" rel="stylesheet"> -->
    <title>pop</title>
  </head>
  <body>
    <div id="app" class="continer">
      
      <span class="under-1">余り物から手軽に！レシピ</span>
      <br>
      <span class="under-2">食材から検索</span>
 

      <!-- genre button ・・・ ① -->
      <div v-if="!clicked" class="genre">

        <!-- 検索バー -->
        <div class="search-bar"></div>

        <!-- 大ジャンルボタン -->
        <button type="button" class="genre-button" :id="question.id" v-for="question in questions" style="cursor:pointer;" @click="addAnswer(question)" >
         {{ question.genre }}
        </button>
      </div>

        <!-- 検索ボタン -->
        <button class="search-button" @click="search(items)"></button>
      
      <!-- ポップアップ部分（モーダル） ・・・ ② -->
      <div v-if="clicked">

        <div id="overlay">
          <div id="content" v-for="question in 1">
            <!--閉じるボタン-->

            <button type="button" class="close-button" data-dismiss="modal"   @click="closeModal" style="cursor:pointer;" style="cursor:pointer;">
              &times;
            </button>

            <!-- 小ジャンルボタン -->
            <button type="button" class="small-button" :id="item.id" v-for="item in items" style="cursor:pointer;" @click="selectItem(item)">
              {{ item.small }}
            </button>

          </div>
        </div>
      </div>

    </div>

    <script src="https://cdn.jsdelivr.net/npm/vue@2.5.17/dist/vue.min.js"></script>
    <!-- <script src="https://cdn.jsdelivr.net/npm/vue@2.6.11"></script> -->
    <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js"></script>

    <script>

      new Vue({
        el: '#app',
        data: {
          
          answers: [],


          questions: [
            {
              id: 1,
              genre: '肉'
            },
            {
              id: 2,
              genre: '野菜'
            },
            {
              id: 3,
              genre: '卵'
            },
            {
              id: 4,
              genre: 'イモ'
            },
          ]
        },
          
  
        
        
         
        methods: {
          addAnswer: function(question) {
            let items = [];
            

            if (question.id == 1) {
              items.push({
              id: 1,
              small: '豚'
            });
              this.answers.push(1);
            } else if (question.id == 2){
              items.push({
              id: 2,
              small: 'レタス'
            });
              this.answers.push(2);
            } else if (question.id == 3){
              items.push({
              id: 3,
              small: '卵'
            });
              this.answers.push(3);
            } else {
              items.push({
              id: 3,
              small: 'イモ'
            });
              this.answers.push(4);
            }
            this.items = items;
          },

          closeModal: function(answers){  
            this.answers.pop();     
          },

          selectItem: function(items){
            console.log(items);
            // tihs.items.push(item);
          },
          
          search: function(items){
            // this.items.splite(0, this.items.splite)
          }
          
        },

        computed: {
          clicked: function() {
            return (this.answers.length == 1);
          },
          

        },

        // mounted() {
        //ジャンル入れる
        
    });

   


    </script>
  </body>
</html>